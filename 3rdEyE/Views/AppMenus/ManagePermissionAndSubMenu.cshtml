@model _3rdEyE.Models.AppMenu
@{
    ViewBag.Title = "Create";
}
<!-- DataTables -->
<link rel="stylesheet" href="~/Theme/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css">

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Manage SubMenu Visibility
        <small></small>
    </h1>
    <div class="breadcrumb">
        <a class="btn btn-block btn-info btn-sm" href="/AppMenus/Index">Back To List</a>
    </div>
</section>
<!-- Main content -->
<section class="content">
    <div class="row">
        <section class="col-md-12 connectedSortable ui-sortable">
            <!-- Custom tabs (Charts with tabs)-->
            <div class="nav-tabs-custom" style="cursor: move;">
                <!-- Tabs within a box -->
                <div class="tab-content no-padding">
                    <!-- Morris chart - Sales -->
                    <div id="CurrentlyActiveTab" class="chart tab-pane active" style="position: relative; height: auto; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
                        <form name="ThisForm" method="post" action="/AppMenus/ManagePermissionAndSubMenu" enctype="multipart/form-data">
                            <input name="FK_AppMenu" id="FK_AppMenu" type="text" value="@Model.PK_AppMenu" style="display:none;" />
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="box">
                                        <div class="box-body">
                                            <div class="row">
                                                <div class="form-group col-md-12">
                                                    <div class="row">
                                                        <label class="col-md-4 control-label">Menu VisibleName:</label>
                                                        <div class="col-md-8">
                                                            @Html.DisplayFor(m => m.VisibleName)
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label class="col-md-4 control-label">Menu FullName:</label>
                                                        <div class="col-md-8">
                                                            @Html.DisplayFor(m => m.FullName)
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-8">
                                                            <input type="button" class="btn btn-facebook pull-right" value="Update Permission" onclick="TrySubmit()" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-5 col-md-offset-1">
                                                    <div class="row">
                                                        <h2>Sub Menus</h2>
                                                        <table id="data_table" class="table table-bordered table-striped">
                                                            <thead>
                                                                <tr>
                                                                    <th>
                                                                        Visible Name
                                                                    </th>
                                                                    <th>
                                                                        Link
                                                                    </th>
                                                                    <th>
                                                                        Sequence
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="data_tbody">
                                                                @foreach (var item in Model.AppSubMenus.OrderBy(m => m.VisibleName))
                                                                {
                                                                    <tr>
                                                                        <td>@item.VisibleName</td>
                                                                        <td>@item.Link</td>
                                                                        <td>
                                                                            <input type="number" name="AppSubMenu_Sequence_@item.PK_AppSubMenu" value="@item.Sequence" />
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <div class="row">
                                                        <h2>Permission</h2>
                                                        <table id="data_table" class="table table-bordered table-striped">
                                                            <thead>
                                                                <tr>
                                                                    <th>
                                                                        Visible Name
                                                                    </th>
                                                                    <th>
                                                                        Full Name
                                                                    </th>
                                                                    <th>
                                                                        Sequence
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="data_tbody">
                                                                @foreach (var item in Model.AppPermissions.OrderBy(m => m.VisibleName))
                                                                {
                                                                    <tr>
                                                                        <td>@item.VisibleName</td>
                                                                        <td>@item.FullName</td>
                                                                        <td>
                                                                            <input type="number" name="AppPermission_Sequence_@item.PK_AppPermission" value="@item.Sequence" />
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="box-footer">
                                            @*<input type="button" class="btn btn-facebook" value="Update Permission" onclick="TryUpdateSubmenuPermission()" />*@
                                        </div>
                                        <!-- /.box-footer -->
                                    </div>
                                </div>
                            </div>


                        </form>
                    </div>
                </div>
            </div>

        </section>
    </div>

    <!-- /.row -->
</section>
<!-- /.content -->
<!-- DataTables -->
<script src="~/Theme/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/Theme/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<script>
    $(function () {


    });
</script>
