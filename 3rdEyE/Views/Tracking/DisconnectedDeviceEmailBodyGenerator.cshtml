@model IEnumerable<_3rdEyE.Models.Vehicle>

@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }

        /*th, td {
            padding: 15px;
        }*/
    </style>
</head>
@{
    string ConvertToDateTimeString(DateTime? dateTime)
    {
        return String.Format("{0:dd/MM/yyyy H:mm}", dateTime);
    }
    var sl = 0;
}
<body style="width:70%;">

    <h2>@ViewBag.Message_1</h2>
    <p></p>

    <table>
        <tr>
            <th>SL</th>
            <th>User Group</th>
            <th>Vehicle</th>
            <th>Device Model</th>
            <th>IMEI</th>
            <th>SIM</th>
            <th>Last Updated</th>
            <th>Last Connection</th>
        </tr>
        @foreach (var item in Model.OrderBy(m => m.VehicleTrackingInformation.Vehicle.Depo.Name).ThenBy(m => m.VehicleTrackingInformation.VehicleTracking.UpdateTime))
        {
            sl++;
            <tr>
                <td>@sl</td>
                <td>@item.Depo.Name</td>
                <td>@item.RegistrationNumber</td>
                <td>@item.GpsDeviceModel</td>
                <td>@item.GpsIMEINumber</td>
                <td>@item.GpsMobileNumber</td>
                <td>@ConvertToDateTimeString(item.VehicleTrackingInformation.VehicleTracking.UpdateTime)</td>
                <td>@ConvertToDateTimeString(item.VehicleTrackingInformation.VehicleTracking.ServerTime)</td>
            </tr>
        }

    </table>

    <p>Autogenerated by Automation-MIS-PRG</p>

</body>
</html>


